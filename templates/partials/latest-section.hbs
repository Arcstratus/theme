<!-- Latest Posts Section -->
<section class="py-12 md:py-16" id="latest-posts">
  <div class="container mx-auto px-4">
    
    <!-- Two Column Layout -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      
      <!-- Latest Posts Card (2/3 width on desktop) -->
      <div class="lg:col-span-2">
        <div class="border border-border rounded-2xl overflow-hidden shadow-sm bg-card" id="latest-card">
          
          <!-- Header -->
          <div class="p-6 md:p-8">
            <div class="flex items-start justify-between">
              <div>
                <div class="flex items-center mb-3">
                  <svg class="w-6 h-6 text-primary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <h2 class="text-2xl md:text-3xl font-bold text-foreground" id="latest-title">
                    Latest Articles
                  </h2>
                </div>
                <p class="text-muted-foreground max-w-md" id="latest-subtitle">
                  Stay up to date with our newest content, insights, and helpful resources
                </p>
              </div>
              
              <div class="flex-shrink-0">
                <a href="{{@site.url}}/archive" 
                   class="text-sky-600 hover:text-sky-700 transition-colors duration-200">
                  View All
                </a>
              </div>
            </div>
          </div>
          
          <!-- Separator -->
          <div class="border-t border-border"></div>
          
          <!-- Content -->
          <div class="p-6 md:p-8">
            <div class="space-y-6" id="latest-list">
              {{#get "posts" filter="featured:false" limit="6" include="authors"}}
                {{#foreach posts}}
                  {{> components/list-card}}
                {{/foreach}}
              {{else}}
                <!-- Fallback when no posts -->
                <div class="text-center py-12">
                  <div class="max-w-sm mx-auto">
                    <div class="w-16 h-16 bg-muted rounded-xl flex items-center justify-center mx-auto mb-4">
                      <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                    </div>
                    <h3 class="text-lg font-semibold text-foreground mb-2">No Posts Yet</h3>
                    <p class="text-muted-foreground text-sm">Latest articles will appear here once they're published.</p>
                  </div>
                </div>
              {{/get}}
            </div>
          </div>
          
        </div>
      </div>
      
      <!-- Sidebar (1/3 width on desktop) -->
      <div class="lg:col-span-1">
        <aside class="space-y-6" id="latest-sidebar">
          
          <!-- About Widget -->
          <div class="border border-border rounded-2xl shadow-sm bg-card p-6">
            <h3 class="text-lg font-bold text-foreground mb-4 flex items-center">
              <div class="w-5 h-5 bg-secondary rounded-md flex items-center justify-center mr-2">
                <svg class="w-3 h-3 text-secondary-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              {{@site.title}}
            </h3>
            <p class="text-muted-foreground text-sm leading-relaxed mb-4">
              {{#if @site.description}}
                {{@site.description}}
              {{else}}
                Your go-to source for helpful articles, guides, and insights. We're here to help you find the answers you're looking for.
              {{/if}}
            </p>
            <a href="{{@site.url}}/about" 
               class="text-sky-600 hover:text-sky-700 font-medium text-sm transition-colors duration-200">
              Learn more â†’
            </a>
          </div>
          
          <!-- Popular Tags -->
          <div class="border border-border rounded-2xl shadow-sm bg-card p-6">
            <h3 class="text-lg font-bold text-foreground mb-4 flex items-center">
              <div class="w-5 h-5 bg-accent rounded-md flex items-center justify-center mr-2">
                <svg class="w-3 h-3 text-accent-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"></path>
                </svg>
              </div>
              Popular Tags
            </h3>
            <p class="text-muted-foreground text-sm mb-4">Explore content by topic</p>
            <div class="space-y-2">
              {{#get "tags" limit="6" include="count.posts"}}
                {{#foreach tags}}
                  <a href="{{url}}" class="flex items-center justify-between p-3 bg-muted hover:bg-secondary/20 rounded-lg border border-border hover:border-secondary/30 transition-all duration-200 group">
                    <div class="flex items-center space-x-2">
                      <div class="w-6 h-6 bg-background rounded-md flex items-center justify-center">
                        <svg class="w-3 h-3 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                      </div>
                      <div>
                        <h4 class="font-medium text-foreground text-sm group-hover:text-primary transition-colors duration-200">{{name}}</h4>
                      </div>
                    </div>
                    <span class="text-xs text-muted-foreground bg-background px-2 py-1 rounded-md">
                      {{count.posts}}
                    </span>
                  </a>
                {{/foreach}}
              {{/get}}
            </div>
          </div>
          
        </aside>
      </div>
      
    </div>
    
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const { animate, stagger } = Motion;
  
  // Animate latest card entrance
  animate('#latest-card', 
    { opacity: [0, 1], y: [30, 0] }, 
    { duration: 0.6, easing: 'ease-out' }
  );
  
  // Animate sidebar widgets
  animate('#latest-sidebar > div', 
    { opacity: [0, 1], x: [20, 0] }, 
    { duration: 0.5, delay: stagger(0.1, { start: 0.2 }), easing: 'ease-out' }
  );
  
  // Animate latest posts with stagger
  animate('#latest-list .list-card, #latest-list > *', 
    { opacity: [0, 1], y: [20, 0] }, 
    { duration: 0.4, delay: stagger(0.05, { start: 0.4 }), easing: 'ease-out' }
  );
});
</script>