<!-- Latest Posts Section -->
<section class="py-20 bg-gray-50" id="latest-posts">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4" id="latest-title">
        Latest Articles
      </h2>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto" id="latest-subtitle">
        Stay up to date with our newest content and insights
      </p>
    </div>
    
    <div class="flex flex-col lg:flex-row gap-12">
      <!-- Main Content -->
      <div class="lg:w-2/3">
        <div class="space-y-8" id="latest-list">
          {{#get "posts" filter="featured:false" limit="6" include="authors"}}
            {{#foreach posts}}
              {{> components/list-card}}
            {{/foreach}}
          {{else}}
            <!-- Fallback when no posts -->
            <div class="text-center py-12">
              <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-700 mb-2">No Posts Yet</h3>
              <p class="text-gray-500">Latest articles will appear here once they're published.</p>
            </div>
          {{/get}}
        </div>
      </div>
      
      <!-- Sidebar -->
      <aside class="lg:w-1/3" id="latest-sidebar">
        <div class="space-y-8">
          
          <!-- About Widget -->
          <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100 sidebar-widget">
            <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
              <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              {{@site.title}}
            </h3>
            <p class="text-gray-600 text-sm leading-relaxed mb-4">
              {{#if @site.description}}
                {{@site.description}}
              {{else}}
                Your go-to source for helpful articles, guides, and insights. We're here to help you find the answers you're looking for.
              {{/if}}
            </p>
            <a href="{{@site.url}}/about" 
               class="inline-flex items-center text-blue-600 hover:text-blue-700 font-medium text-sm">
              Learn more
              <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
          
          <!-- Popular Tags -->
          <div class="bg-white rounded-2xl shadow-lg p-6 border border-gray-100 sidebar-widget">
            <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
              <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"></path>
              </svg>
              Popular Tags
            </h3>
            <p class="text-gray-600 text-sm mb-4">Explore content by topic</p>
            <div class="space-y-3">
              {{#get "tags" limit="10" include="count.posts"}}
                {{#foreach tags}}
                  <a href="{{url}}" class="flex items-center justify-between p-3 bg-gray-50 hover:bg-blue-50 rounded-lg border border-gray-100 hover:border-blue-200 transition-all duration-200 group">
                    <div class="flex items-center space-x-3">
                      <div class="w-8 h-8 bg-blue-100 group-hover:bg-blue-200 rounded-lg flex items-center justify-center transition-colors duration-200">
                        <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"></path>
                        </svg>
                      </div>
                      <div>
                        <h4 class="font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200">{{name}}</h4>
                        {{#if description}}
                          <p class="text-xs text-gray-500 line-clamp-1">{{description}}</p>
                        {{/if}}
                      </div>
                    </div>
                    <div class="flex items-center space-x-2">
                      <span class="text-xs font-medium text-gray-500 bg-gray-200 px-2 py-1 rounded-full">
                        {{count.posts}} {{plural count.posts empty='posts' singular='post' plural='posts'}}
                      </span>
                      <svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500 transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                      </svg>
                    </div>
                  </a>
                {{/foreach}}
              {{/get}}
            </div>
          </div>
          
        </div>
      </aside>
    </div>
    
    <div class="text-center mt-12">
      <a href="{{@site.url}}/archive" 
         class="inline-flex items-center px-8 py-3 bg-gray-900 text-white font-medium rounded-xl hover:bg-gray-800 transition-colors duration-200 group">
        View All Posts
        <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>